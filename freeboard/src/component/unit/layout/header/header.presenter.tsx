import Head from "next/head";
import * as S from "./header.styes";
import { useRecoilState } from "recoil";
import { IHeaderPresenterProps } from "./header.types";
import { accessTokenState } from "../../../../commons/store";
import { useMoveToPage } from "../../../commons/hooks/useMoveToPage";

export default function HeaderPresenter(P: IHeaderPresenterProps) {
  const { onClickIsNav, IPickItemData } = P;
  const [accessToken, setAccessToken] = useRecoilState(accessTokenState);
  const { onClickMoveToPage } = useMoveToPage();

  return (
    <>
      <S.Container>
        <Head>
          <title>LEESANGHYEON - first Portfolio</title>
          <meta name="description" content="LEESANGHYEON first Portfolio" />
          <link rel="icon" href="/favicon_leesanghyeon.ico" />
        </Head>
        <S.Wrapper>
          <S.NavBtnWrapper>
            <S.NavBtn onClick={onClickIsNav}>
              <svg
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                width="20px"
                height="20px"
              >
                <g>
                  <path d="M64.939011 313.863361l0-56.345286 894.491391 0 0 56.345286L64.939011 313.863361zM64.939011 528.680914l0-56.345286 894.491391 0 0 56.345286L64.939011 528.680914zM64.939011 739.976248l0-56.344263 894.491391 0 0 56.344263L64.939011 739.976248z" />
                </g>
              </svg>
            </S.NavBtn>
          </S.NavBtnWrapper>
          <S.LogoWrapper>
            <S.LogoBtn onClick={onClickMoveToPage("/")}>
              <svg
                version="1.0"
                xmlns="http://www.w3.org/2000/svg"
                width="68pt"
                height="43.2pt"
                viewBox="0 0 341.000000 217.000000"
                preserveAspectRatio="xMidYMid meet"
              >
                <g
                  transform="translate(0.000000,217.000000) scale(0.100000,-0.100000)"
                  fill="#000"
                  stroke="none"
                >
                  <path
                    d="M40 1805 l0 -365 67 0 67 0 -45 -28 c-108 -69 -129 -202 -46 -290 43
-46 86 -66 214 -102 150 -43 183 -81 124 -141 -59 -59 -162 -26 -190 60 l-14
44 -60 -7 c-33 -3 -80 -6 -103 -6 -39 0 -44 -2 -44 -24 0 -64 54 -155 114
-191 l41 -25 -62 0 -63 0 0 -365 0 -365 115 0 115 0 0 150 0 150 125 0 125 0
0 -150 0 -150 110 0 110 0 2 316 3 316 108 -160 107 -159 0 -156 0 -157 115 0
115 0 0 150 0 150 108 161 107 162 3 -312 2 -311 310 0 310 0 0 70 0 70 38
-42 c20 -22 64 -54 97 -70 56 -26 68 -28 186 -28 88 0 139 5 172 16 60 20 139
91 169 152 l23 47 3 -107 3 -108 104 0 105 0 2 196 3 196 133 -196 133 -196
105 0 104 0 0 365 0 365 -105 0 -105 0 -2 -197 -3 -197 -134 197 -134 197
-103 0 -104 0 0 -107 0 -108 -26 45 c-35 63 -81 108 -138 137 l-49 25 56 23
c31 12 79 37 107 55 l50 32 0 149 0 149 -175 0 -175 0 0 -85 0 -85 75 0 c73 0
75 -1 75 -25 0 -21 -8 -27 -57 -41 -114 -33 -216 2 -244 83 -17 49 -17 167 0
216 7 21 28 49 49 65 30 23 45 27 99 27 62 0 66 -2 99 -38 l35 -37 92 16 c126
22 117 17 104 60 -15 51 -88 128 -139 149 -58 23 -219 31 -300 15 -112 -22
-192 -80 -242 -177 l-25 -48 -1 113 0 112 -95 0 -95 0 0 80 0 80 -195 0 -195
0 0 70 0 70 175 0 175 0 0 75 0 75 -175 0 -175 0 0 50 0 50 190 0 190 0 0 85
0 85 -605 0 -605 0 0 -275 0 -275 -155 0 -155 0 0 275 0 275 -115 0 -115 0 0
-365z m1140 0 l0 -195 -185 0 -185 0 0 70 0 70 175 0 175 0 0 75 0 75 -175 0
-175 0 0 50 0 50 185 0 185 0 0 -195z m-345 -382 c-3 -10 -40 -108 -82 -218
-41 -110 -78 -204 -83 -208 -4 -5 -10 5 -13 22 -9 43 -69 105 -125 129 -26 11
-94 32 -152 47 -120 30 -150 50 -132 89 12 28 57 41 106 32 37 -7 60 -28 71
-65 7 -23 9 -24 83 -17 41 3 88 6 104 6 33 0 37 20 13 78 -19 43 -48 77 -90
103 -30 19 -30 19 139 19 156 0 168 -1 161 -17z m465 -245 c0 -160 -4 -257
-10 -248 -9 16 -190 497 -190 505 0 3 45 5 100 5 l100 0 0 -262z m480 70 c0
-114 -4 -188 -9 -182 -13 13 -251 364 -251 369 0 3 59 5 130 5 l130 0 0 -192z
m-775 -118 c19 -62 35 -116 35 -121 0 -5 -34 -9 -75 -9 -41 0 -75 3 -75 6 0
15 74 244 77 240 2 -2 19 -54 38 -116z m637 -205 c63 -93 118 -176 122 -182 6
-10 -22 -13 -123 -13 l-131 0 0 192 c0 108 4 188 9 183 4 -6 60 -86 123 -180z
m448 -127 c22 -20 60 -44 83 -54 l43 -18 -58 -28 c-32 -16 -75 -50 -98 -75
l-40 -46 0 77 c0 61 -3 76 -15 76 -12 0 -15 19 -15 108 l0 107 30 -55 c17 -30
48 -71 70 -92z m-979 -18 l16 -55 46 -3 46 -3 -61 -102 c-34 -56 -66 -108 -72
-115 -9 -9 -27 15 -81 108 l-70 119 -63 1 -64 0 7 33 c18 82 10 78 152 75
l127 -3 17 -55z m-528 -28 c-4 -16 -13 -22 -34 -22 l-29 0 0 -125 0 -125 -125
0 -125 0 0 114 0 113 99 5 c84 4 109 9 158 34 32 16 59 29 60 29 1 -1 0 -11
-4 -23z m1855 -209 c51 -38 66 -79 66 -173 0 -64 -5 -95 -19 -125 -55 -111
-196 -113 -259 -5 -30 51 -30 199 0 250 32 56 80 83 137 77 27 -2 61 -13 75
-24z m-433 -5 c-4 -13 -9 -35 -12 -50 l-5 -28 -174 0 -174 0 0 50 0 50 186 0
186 0 -7 -22z m-18 -275 c6 -27 14 -58 18 -70 l7 -23 -186 0 -186 0 0 70 0 70
168 0 168 0 11 -47z"
                  />
                </g>
              </svg>
            </S.LogoBtn>
          </S.LogoWrapper>
          <S.LoginWrapper>
            {!accessToken ? (
              <S.NoMemberWrapper>
                <S.SignIn onClick={onClickMoveToPage("/users/signIn")}>
                  로그인
                </S.SignIn>
                <S.Join onClick={onClickMoveToPage("/users/new")}>
                  회원가입
                </S.Join>
              </S.NoMemberWrapper>
            ) : null}
            {accessToken ? (
              <S.MemberWrapper>
                <S.MemberBtn onClick={onClickMoveToPage("/users/mypage")}>
                  <svg
                    viewBox="0 0 1026 1024"
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    width="20px"
                    height="20px"
                  >
                    <g fill="#8d8d8d">
                      <path d="M940.032 1008.64l-855.04 0c-54.272 0-84.992-32.768-84.992-91.136 0-111.616 99.328-273.408 278.528-273.408 11.264 0 19.456 9.216 19.456 19.456s-9.216 19.456-19.456 19.456c-153.6 0-238.592 138.24-238.592 234.496 0 46.08 24.576 51.2 45.056 51.2l855.04 0c21.504 0 45.056-6.144 45.056-51.2 0-95.232-84.992-234.496-238.592-234.496-11.264 0-19.456-9.216-19.456-19.456s9.216-19.456 19.456-19.456C925.696 644.096 1025.024 805.888 1025.024 917.504 1025.024 974.848 994.304 1008.64 940.032 1008.64z" />
                      <path d="M513.024 629.76c-153.6 0-279.552-137.216-279.552-307.2S359.424 15.36 513.024 15.36s279.552 137.216 279.552 307.2S666.624 629.76 513.024 629.76zM513.024 55.296c-132.096 0-239.616 119.808-239.616 267.264S380.928 589.824 513.024 589.824s239.616-119.808 239.616-267.264S645.12 55.296 513.024 55.296z" />
                    </g>
                  </svg>
                </S.MemberBtn>
                <S.MemberBtn
                  onClick={onClickMoveToPage("/users/mypage/basket")}
                >
                  <svg
                    viewBox="0 0 1024 1024"
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    width="26px"
                    height="26px"
                  >
                    <g fill="#8d8d8d">
                      <path d="M430.8 877.1h-0.33c-47.77-0.18-86.61-39.18-86.59-86.92 0.28-47.74 38.9-86.37 86.37-86.87 0.49-0.05 1.01-0.05 1.48-0.05 47.75 0.52 86.32 39.8 85.97 87.55-0.34 47.64-39.29 86.29-86.9 86.29z m0.37-140.6c-29.69 0-53.93 24.06-54.1 53.78-0.02 29.43 24.01 53.52 53.54 53.63h0.2c29.43 0 53.5-23.88 53.72-53.34 0.21-29.15-23.03-53.2-52.03-54.1-0.34 0.02-0.68 0.05-1.02 0.03h-0.31zM741.08 877.1h-0.33c-47.74-0.18-86.59-39.16-86.59-86.92 0.28-47.74 38.9-86.37 86.37-86.87 0.49-0.05 1.04-0.05 1.48-0.05 47.76 0.52 86.32 39.8 85.98 87.55-0.35 47.64-39.31 86.29-86.91 86.29z m0.36-140.6c-29.69 0-53.93 24.06-54.1 53.78 0 29.43 24.01 53.52 53.54 53.63h0.2c29.43 0 53.5-23.88 53.72-53.34 0.21-29.15-23.03-53.2-52.04-54.1-0.34 0.02-0.71 0.05-1.02 0.03h-0.3zM373.15 666.52h-39.8c-5.83 0-11.04-3.03-14.01-7.7-2.11-2.74-3.37-6.09-3.37-9.72v-2.9l-55.54-466.11H80.59c-9.16 0-16.59-7.42-16.59-16.59s7.43-16.59 16.59-16.59h194.57c8.4 0 15.48 6.29 16.48 14.63l56.22 471.8h20.34c1.54-0.53 3.15-0.83 4.8-0.83h459.27l94.9-444.21c1.92-8.96 10.74-14.78 19.7-12.75 8.96 1.91 14.67 10.73 12.76 19.69l-97.51 456.41c-1.34 6.29-6.15 11.1-12.16 12.62-1.98 0.91-4.14 1.43-6.42 1.43h-465.6c-1.53 0.53-3.14 0.82-4.79 0.82z" />
                      <path d="M917.71 319.87H316.15c-9.16 0-16.59-7.42-16.59-16.59s7.43-16.59 16.59-16.59h601.56c9.16 0 16.59 7.42 16.59 16.59s-7.42 16.59-16.59 16.59z" />
                    </g>
                  </svg>
                  <S.BasketAmount>
                    {IPickItemData?.fetchUseditemsIPicked.length}
                  </S.BasketAmount>
                </S.MemberBtn>
                <S.MemberBtn>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 1024 1024"
                    version="1.1"
                    width="30px"
                    height="30px"
                  >
                    <g fill="#8d8d8d">
                      <path d="M680 444.8c0-129.6-105.6-236.8-236.8-236.8S208 315.2 208 444.8s105.6 236.8 236.8 236.8c59.2 0 113.6-22.4 155.2-59.2l211.2 211.2 22.4-22.4-211.2-211.2c35.2-41.6 57.6-96 57.6-155.2zM444.8 240c112 0 204.8 91.2 204.8 204.8s-91.2 204.8-204.8 204.8S240 556.8 240 444.8 331.2 240 444.8 240z" />
                    </g>
                  </svg>
                </S.MemberBtn>
              </S.MemberWrapper>
            ) : null}
          </S.LoginWrapper>
        </S.Wrapper>
      </S.Container>
    </>
  );
}
